`begin_keywords "1800-2017"
`line 1 "verilog/fp_to_fixed.v" 1
module fp_to_fixed (
     
    input [31:0] fp_i,  
    output sign_o,  
    output reg integer_o,  
    output reg [18:0] fractional_o  
);

`line 9 "verilog/fp_to_fixed.v" 0
    reg [7:0] exponent;
    reg [7:0] unbiased_exponent;
    reg [22:0] significand;

`line 13 "verilog/fp_to_fixed.v" 0
    assign sign_o = fp_i[31];  
    assign exponent = fp_i[30:23];  
    assign significand = fp_i[22:0];  
    assign unbiased_exponent = ~(exponent - 127 - 8'b00000001);  

`line 18 "verilog/fp_to_fixed.v" 0
    always @(*) begin

`line 20 "verilog/fp_to_fixed.v" 0
        reg integer_part = 1'b1;  
        reg [22:0] fractional_part = significand;

`line 23 "verilog/fp_to_fixed.v" 0
        if (unbiased_exponent[0] == 1) begin
            fractional_part = {integer_part, fractional_part[22:1]};  
            integer_part = 1'b0;
        end

`line 28 "verilog/fp_to_fixed.v" 0
        if (unbiased_exponent[1] == 1) begin
            fractional_part = {1'b0, integer_part, fractional_part[22:2]};  
            integer_part = 1'b0;
        end

`line 33 "verilog/fp_to_fixed.v" 0
        if (unbiased_exponent[2] == 1) begin
            fractional_part = {3'b0, integer_part, fractional_part[22:4]};  
            integer_part = 1'b0;
        end

`line 38 "verilog/fp_to_fixed.v" 0
        if (unbiased_exponent[3] == 1) begin
            fractional_part = {7'b0, integer_part, fractional_part[22:8]};  
            integer_part = 1'b0;
        end

`line 43 "verilog/fp_to_fixed.v" 0
        if (unbiased_exponent[4] == 1) begin
            fractional_part = {15'b0, integer_part, fractional_part[22:16]};  
            integer_part = 1'b0;
        end

`line 48 "verilog/fp_to_fixed.v" 0
        integer_o = integer_part;
        fractional_o = fractional_part[22:4];  
    end
endmodule;

`line 53 "verilog/fp_to_fixed.v" 2
